services:
  taskfi-tlsn:
    build: .
    ports:
      - "8000:8000"
    volumes:
      - ./config:/app/config

  notary:
    image: ghcr.io/tlsnotary/tlsn/notary-server:v0.1.0-alpha.5
    ports:
      - "7047:7047"
    volumes:
      - ./config:/root/.notary-server/config
      
  localstack:
    profiles:
      - dev
    image: localstack/localstack:3.5.0
    ports:
      - "127.0.0.1:4566:4566"
      - "127.0.0.1:4510-4559:4510-4559"
    environment:
      - SERVICES=sqs
    volumes:
      - "./volume/localstack:/var/lib/localstack"
      - "./docker-init/localstack:/etc/localstack/init/ready.d"
      - "/var/run/docker.sock:/var/run/docker.sock"
